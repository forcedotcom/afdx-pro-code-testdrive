#!/bin/bash
#
# Entry point for the AFDX setup script.
# Installs Node dependencies on first run, then invokes the setup script.

# Install dependencies if node_modules doesn't exist.
if [ ! -d "./scripts/js/node_modules" ]; then
  echo "Initializing Setup..."
  npm install --prefix ./scripts/js > /dev/null 2>&1
  npm audit fix --prefix ./scripts/js > /dev/null 2>&1
fi

# Run the setup script, passing through all arguments.
./scripts/js/setup.mjs "$@"
